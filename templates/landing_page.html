{% extends "base.html" %} {% load static %}



{% block dashboard_body %}

  <style>
    .tooltip-container {
  position: relative;
cursor: pointer;
  display: flex;
}
.tooltip {
  visibility: hidden;
    width: 250px;
    background-color: #333;
    color: #fff;
    text-align: center;
    border-radius: 10px;
    padding: 10px;
    position: absolute;
    z-index: 1;
    bottom: calc(87% + 13px);
    left: 50%;
    transform: translateX(-31%);
    opacity: 0;
    transition: opacity 0.3s, visibility 0s 0.3s;
}

.tooltip:after {
  content: '';
    position: absolute;
    bottom: -10px;
    left: 32%;
    width: 0;
    height: 0;
    border: 10px solid transparent;
    border-top-color: #333;
    border-bottom: 0;
    margin-left: -10px;
}

.tooltip-container:hover .tooltip ,
.tooltip-container:hover .tooltip_totp_advance {
  visibility: visible;
  opacity: 1;
}

    .main_sign_highlight_bottom{
     
        padding: 0 33px !important;
        display: flex;
  justify-content: center; /* Horizontally center the content */
  align-items: center; /* Vertically center the content */
  height: 100vh; /* Adjust height as needed */

    }
    .main_login_inner{
        box-shadow: rgba(17, 12, 46, 0.15) 0px 48px 100px 0px;
        padding: 24px 37px;
    border-radius: 18px;
    display: flex;
    align-items: center;

    flex-direction: column;
}
#overlay {
          display: none;
          position: fixed;
          z-index: 99;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.5);
        }
        #active_broker_modal {
  width: 980px; /* Initial width */
  box-shadow: 0px 0px 1px 2px #4399eb3b;
  position: absolute;
  

  border-radius: 8px;
  background-color: white;
  margin: 12px 0 0 0;
  padding: 0 16px 20px 20px;
  z-index: 99;
}
.btn_outline_primary,.btn_add_broker{
    margin-top: 2px;
    display: flex;
    gap: 0.2rem;
}

  </style>
  <body>




<div class="main_api_buttons">


      <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasRightLabel">Add Your Indicator</h5>
          <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <form>
                <div class="form-group">
                  <label for="indicatorName">Indicator Name</label>
                  <input type="text" class="form-control" id="indicatorName" placeholder="Enter indicator name">
                </div>
                <div class="form-group">
                  <label for="description">Description</label>
                  <textarea class="form-control" id="description" rows="3" placeholder="Enter description"></textarea>
                </div>
                <div class="form-group">
                  <label for="tradingviewURL">Tradingview Indicator Script URL</label>
                  <input type="url" class="form-control" id="tradingviewURL" placeholder="Enter Tradingview script URL">
                </div>
                <div class="form-group">
                  <label for="telegramID">Telegram ID</label>
                  <input type="text" class="form-control" id="telegramID" placeholder="Enter Telegram ID">
                </div>
                <div class="form-group">
                  <label for="whatsappNumber">WhatsApp Number</label>
                  <input type="tel" class="form-control" id="whatsappNumber" placeholder="Enter WhatsApp number">
                </div>
                <div class="form-group">
                  <label for="documentationLink">Indicator Documentation Link</label>
                  <input type="url" class="form-control" id="documentationLink" placeholder="Enter documentation link">
                </div>
                <div class="form-group">
                  <label for="youtubeLink">Youtube Video Link</label>
                  <input type="url" class="form-control" id="youtubeLink" placeholder="Enter YouTube video link">
                </div>
                <div class="form-group">
                  <label for="indicatorPrice">Indicator Price</label>
                  <input type="text" class="form-control" id="indicatorPrice" placeholder="Enter indicator price">
                </div>
                <div class="form-group">
                  <label for="indicatorTrail">Indicator Trail</label>
                  <input type="text" class="form-control" id="indicatorTrail" placeholder="Enter indicator trail">
                </div>

                <div class="mb-3">
                    <label for="formFile" class="form-label">Select Indicator Image</label>
                    <input class="form-control" type="file" id="formFile">
                  </div>
                <button type="submit" class="btn btn-primary">Submit</button>
              </form>
        </div>
      </div>


    <div class="offcanvas offcanvas-end" tabindex="-1" id="add_api" aria-labelledby="offcanvasRightLabel"
      style="z-index: 9999999999999999;">


      <div class="main_add_api" style="    background: white; overflow: auto;
      margin: 20px;
      margin-top: 6px;">
   
      <div class="offcanvas-header" style="    position: sticky;
      top: 0px;
      background: white;">




        <h5 class="offcanvas-title" id="offcanvasRightLabel" style="color: #4399eb;" >
          Add Broker
        </h5>





        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <form style="padding: 0 4px;" >
          <div class="select_broker">
            <label for="expirydate">Select Broker</label>
            <select name="All_brokers" id="all_brokers" class="form-select mb-3">
              <option value="zerodha">Zerodha</option>
              <option value="upstocks">Upstox</option>
              <option value="angelone">Angel One</option>
              <option value="fyers">Fyers</option>
              <option value="icicidirectbreeze">ICICI Direct Breeze</option>
              <option value="groww">Groww</option>
              <option value="hdfcsecurities">HDFC Securities</option>
              <option value="kotaksecurities">Kotak Securities</option>
              <option value="motilaloswal">Motilal Oswal</option>
              <option value="paytmmoney">Paytm Money</option>
              <option value="sbi">SBI Securities</option>
              <option value="sharekhan">Sharekhan</option>
              <option value="5paisa">5paisa</option>
              <option value="iiflsecurities">IIFL Securities</option>
              <option value="axisdirect">Axis Direct</option>
              <option value="dhan">Dhan</option>
              <option value="geojit">Geojit</option>
            </select>

          </div>

          <style>
            #zerodhaFields label,
            #angeloneFields label,
            #upstocksFields label,
            .select_broker label {
              color: #1b1b1b !important;
            }
            .add_broker_note{
              color: rgb(140, 0, 0);

              font-weight: 600 !important;
            }

          </style>

          <div id="zerodhaFields">

            <div class="">
              <label for="expirydate">Select Api</label>
              <select class="form-select mb-2" id="zerodha_platform" required>
                <option value="zerodha_kite">zerodha_kite</option>
                <!-- Add more options if needed -->
              </select>
            </div>
            <script type="text/javascript">
              // If you do not want to use jQuery you can use Pure JavaScript. See FAQ below
              $( document ).ready(function() {
                  $('[data-bs-toggle="tooltip"]').tooltip();
              });
              </script>
            <div class="">
              <label for="zerodha_login_id">Login Id</label>
              <input type="text" class="form-control zerodha_login_id" id="zerodha_login_id" placeholder="Enter Zerodha Login ID"
                required />
            </div>
            <div class="" style="position: relative;" >
        
              <div class="main_label_alert_add_broker d-flex align-items-center m-0">
                <label for="zerodha_password" class="m-0">Password</label> 
                <div class="tooltip-container">
               <svg class="MuiSvgIcon-root tooltip-trigger" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation" style="width: 13px; height: 13px; color: var(--textColor2); margin-left: 2px; vertical-align: text-bottom;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></svg>
                  <div class="tooltip">Your password is kept encypted for total security and privacy.</div>
                </div>
                <i class="bi bi-eye-slash toggle-password" aria-hidden="true" style="    position: absolute;
                right: 10px;
                top: 34px;"></i>

              </div>

            
   <style>
    #secret_key_tuto_1{
      font-size: 18px;
    color: #eb0000;
    font-weight: 100;

    cursor: pointer;
    }
   </style>
     

              <input type="password" class="form-control" id="zerodha_password" placeholder="Enter Zerodha Password"
                required />
                
                <div style="font-size: 12px; opacity: 65%;
                font-weight: 500;" class="add_broker_note"></div>
            </div>



            <div class="">

              <div class="main_label_alert_add_broker d-flex align-items-center m-0 justify-content-between">
                <div class="main_label_password_tooltips d-flex align-items-center m-0">
                  <label for="zerodha_totp_key" class="m-0">TOTP Secret key </label>
                  <div class="tooltip-container">
                 <svg class="MuiSvgIcon-root tooltip-trigger" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation" style="width: 13px; height: 13px; color: var(--textColor2); margin-left: 2px; vertical-align: text-bottom;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></svg>
                    <div class="tooltip">Your TOTP secret key is securely stored for authentication.</div>
                  </div>
                </div>
        
                <i class='bx bx-play-circle text-danger' id="secret_key_tuto_zerodha"   data-bs-toggle="modal" data-bs-target="#zerodha_tuto"></i>

              </div>
<!-- Modal -->
<div class="modal fade zerodha_tuto" id="zerodha_tuto" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content" style="background: transparent;">

     
   
      <div class="modal-body">
        <!-- Content to be displayed in the center of the modal -->
        <iframe width="560" height="315" src="https://www.youtube.com/embed/yw4Bc3EVNV0?si=8inWWMUpWhojwtJC" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      </div>

    </div>
  </div>
</div>
   


              <input type="text" class="form-control m-0" id="zerodha_totp_key" placeholder="Enter Zerodha TOTP Key"
                required />


                <a href="https://kite.zerodha.com/edit-profile" onclick="openNewWindow(); return false;" style="font-size: 12px; font-weight: 600; text-decoration: none;">Get TOPT key</a>
                <script>
                  $(document).ready(function() {
                    // Pause YouTube video when modal is closed
                    $('#zerodha_tuto').on('hidden.bs.modal', function(e) {
                      var $iframe = $(this).find('iframe');
                      var iframeSrc = $iframe.attr('src');
                      $iframe.attr('src', iframeSrc);
                    });
                  });
                </script>
                <script>
                function openNewWindow() {
                    var newWindow = window.open('https://kite.zerodha.com/edit-profile', '_blank', 'width=900,height=800');
                    if (newWindow) {
                        newWindow.focus();
                    } else {
                        alert('Please allow popups for this site to open the link.');
                    }
                }

  
                </script>
                


                <p style="font-size: 12px; opacity: 65%;
                font-weight: 500;" class="add_broker_note"></p>
            </div>




            <div class="">

      

              <div class="main_label_alert_add_broker d-flex align-items-center m-0">
                <label for="zerodha_totp_key" class="m-0">Header name (Editable)</label>
                <div class="tooltip-container">
               <svg class="MuiSvgIcon-root tooltip-trigger" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation" style="width: 13px; height: 13px; color: var(--textColor2); margin-left: 2px; vertical-align: text-bottom;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></svg>
                  <div class="tooltip_totp_advance">This field is designated as your account name for activating the broker functionality. You can choose any name you prefer.</div>
                </div>


              </div>


              <input type="text" class="form-control" id="zerodha_app_name" placeholder="Enter App Name" required />
            </div>

            <div class="class">
<style>
  .tooltip_totp_advance:after{
    content: '';
    position: absolute;
    bottom: -10px;
    left: 21%;
    width: 0;
    height: 0;
    border: 10px solid transparent;
    border-top-color: #333;
    border-bottom: 0;
    margin-left: 98px;

  }
  .tooltip_totp_advance{
    visibility: hidden;
    width: 285px;
    background-color: #333;
    color: #fff;
    text-align: center;
    border-radius: 10px;
    padding: 10px;
    position: absolute;
    z-index: 1;
    bottom: calc(87% + 13px);
    left: 50%;
    transform: translateX(-58%);
    opacity: 0;
    transition: opacity 0.3s, visibility 0s 0.3s;
    font-size: 13px;
  }
  .main_advance_security {
    margin-top: 1rem;
  }
</style>

              <div class="main_label_alert_add_broker d-flex align-items-center m-0">
                <label for="zerodha_totp_key" class="m-0">TOTP Advance Security</label>
                <div class="tooltip-container">
               <svg class="MuiSvgIcon-root tooltip-trigger" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation" style="width: 13px; height: 13px; color: var(--textColor2); margin-left: 2px; vertical-align: text-bottom;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></svg>
                  <div class="tooltip_totp_advance">To enhance security, we employ TOTP when activating the broker.</div>
                </div>


              </div>

              <div class="main_advance_security d-flex gap-2 align-items-center" id="zerodha_advance_security_radios">


           
                  <div class="checkbox-wrapper-4" style="
                  display: flex;
                  gap: 0.3rem;

                  cursor: pointer;">

       

                    <input type="checkbox" id="zerodha_advance_security" class="sc-gJwTLC ikxBAC" value="no">
                    <label class="form-check-label" for="zerodha_advance_security">No</label>
                  </div>
  

              </div>

              <p style="font-size: 12px;     margin-bottom: 10px !important; opacity: 65%;
              font-weight: 500;" class="add_broker_note"> </p>

          </div>



          </div>

          <div id="angeloneFields" class="trading-platform-fields" style="display: none;">
            <label for="angelone_platform">Select Api</label>
            <select class="form-select mb-2" id="angelone_platform" name="angelone_platform" required>
              <option value="smart_api">smart_api</option>
              <!-- Add more options if needed -->
            </select>

            <label for="angelone_login_id">Login Id</label>
            <input type="text" class="form-control angelone_login_id" id="angelone_login_id" name="angelone_login_id"
              placeholder="Enter Angel One Login ID" required />


              <div class="" style="position: relative;" >
              <div class="main_label_alert_add_broker d-flex align-items-center m-0">
                <label for="zerodha_password" class="m-0">Password</label> 
                <div class="tooltip-container">
               <svg class="MuiSvgIcon-root tooltip-trigger" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation" style="width: 13px; height: 13px; color: var(--textColor2); margin-left: 2px; vertical-align: text-bottom;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></svg>
                  <div class="tooltip">Your password is kept encypted for total security and privacy.</div>
                </div>
        

              </div>

              <i class="bi bi-eye-slash toggle-password-angel" aria-hidden="true" style="    position: absolute;
              right: 10px;
              top: 34px;"></i>
            <input type="password" class="form-control" id="angelone_password" name="angelone_password"
              placeholder="Enter Angel One MPIN" required />

            </div>
        


             
              <div class="main_label_alert_add_broker d-flex align-items-center m-0 justify-content-between">
                <div class="main_label_password_tooltips d-flex align-items-center m-0">
                  <label for="zerodha_totp_key" class="m-0">TOTP Secret key </label>
                  <div class="tooltip-container">
                 <svg class="MuiSvgIcon-root tooltip-trigger" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation" style="width: 13px; height: 13px; color: var(--textColor2); margin-left: 2px; vertical-align: text-bottom;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></svg>
                    <div class="tooltip">Your TOTP secret key is securely stored for authentication.</div>
                  </div>
                </div>
        
                <i class='bx bx-play-circle' id="secret_key_tuto_1" ></i>

              </div>
   
            <input type="text" class="form-control m-0" id="angelone_totp_key" name="angelone_totp_key"
              placeholder="Enter Angel One TOTP Key" required />
              <div class="hyper_totp_secret">
                <a href="https://smartapi.angelbroking.com/enable-totp" onclick="angelOne()" target="_blank" style="    font-size: 12px;
                font-weight: 600;
                text-decoration: none;
                ">Get TOPT key .</a>
    
              </div>
             <script>
                function angelOne() {
                    var newWindow = window.open('https://smartapi.angelbroking.com/enable-totp', '_blank', 'width=900,height=800');
                    if (newWindow) {
                        newWindow.focus();
                    } else {
                        alert('Please allow popups for this site to open the link.');
                    }
                }
                </script>
            <label for="angelone_api_key">API Key</label>
            <input type="text" class="form-control" id="angelone_api_key" name="angelone_api_key"
              placeholder="Enter Angel One API Key" required />

      

              <div class="main_label_alert_add_broker d-flex align-items-center m-0">
                <label for="zerodha_totp_key" class="m-0">Header name (Editable)</label>
                <div class="tooltip-container">
               <svg class="MuiSvgIcon-root tooltip-trigger" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation" style="width: 13px; height: 13px; color: var(--textColor2); margin-left: 2px; vertical-align: text-bottom;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></svg>
                  <div class="tooltip_totp_advance">This field is designated as your account name for activating the broker functionality. You can choose any name you prefer.</div>
                </div>


              </div>

            <input type="text" class="form-control" id="angelone_app_name" name="angelone_app_name"
              placeholder="Enter App Name" required />

              <div class="main_angelone_totp_section">

                <div class="main_label_alert_add_broker d-flex align-items-center m-0">
                  <label for="zerodha_totp_key" class="m-0">TOTP Advance Security</label>
                  <div class="tooltip-container">
                 <svg class="MuiSvgIcon-root tooltip-trigger" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation" style="width: 13px; height: 13px; color: var(--textColor2); margin-left: 2px; vertical-align: text-bottom;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></svg>
                    <div class="tooltip_totp_advance">To enhance security, we employ TOTP when activating the broker.</div>
                  </div>
  
  
                </div>
  
                <div class="main_advance_security d-flex gap-2 align-items-center" id="angelone_advance_security_radios">
                
  
                  <div class="checkbox-wrapper-4" style="
                  display: flex;
                  gap: 0.3rem;

                  cursor: pointer;">

       

                    <input type="checkbox" id="angelone_advance_security" class="sc-gJwTLC ikxBAC" value="no">
                    <label class="form-check-label" for="angelone_advance_security">No</label>
                  </div>
  
                  
          
              </div>

              </div>


          </div>

          
          <div id="upstocksFields" style="display: none;">

            <label for="upstocks_platform">Select Api</label>
            <select class="form-select mb-2" id="upstocks_platform" name="upstocks_platform" required>
              <option value="upstox_api">upstox_api</option>
              <!-- Add more options if needed -->
            </select>

            <label for="upstocks_login_id">Login Id</label>
            <input type="text" class="form-control upstocks_login_id" id="upstocks_login_id" name="upstocks_login_id"
              placeholder="Enter Upstox Login ID" required />
              <script>
                $(".zerodha_login_id").on("input", function() {
                    var value = $(this).val();
                    // console.log(value);
                    $("#zerodha_app_name").val(value);
                });
                $(".angelone_login_id").on("input", function() {
                    var value = $(this).val();
                    // console.log(value);
                    $("#angelone_app_name").val(value);
                });
                $(".upstocks_login_id").on("input", function() {
                    var value = $(this).val();
                    // console.log(value);
                    $("#upstocks_app_name").val(value);
                });
                </script>

                <div class="" style="position: relative;">
              <div class="main_label_alert_add_broker d-flex align-items-center m-0">
                <label for="zerodha_password" class="m-0">Password</label> 
                <div class="tooltip-container">
               <svg class="MuiSvgIcon-root tooltip-trigger" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation" style="width: 13px; height: 13px; color: var(--textColor2); margin-left: 2px; vertical-align: text-bottom;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></svg>
                  <div class="tooltip">Your password is kept encypted for total security and privacy.</div>
                </div>


              </div>
              <i class="bi bi-eye-slash toggle-password-upstocks" aria-hidden="true" style="    position: absolute;
              right: 10px;
              top: 34px;"></i>
            <input type="password" class="form-control" id="upstocks_password" name="upstocks_password"
              placeholder="Enter Upstox 2FA pin" required />

            </div>


              <script>
                $(document).ready(function(){


                    $('.toggle-password').click(function(){
                        $(this).toggleClass('bi-eye bi-eye-slash');
                        var input = $("#zerodha_password")
                        if (input.attr('type') === 'password') {
                            input.attr('type', 'text');
                        } else {
                            input.attr('type', 'password');
                        }
                    });
                    $('.toggle-password-angel').click(function(){
                        $(this).toggleClass('bi-eye bi-eye-slash');
                        var input = $("#angelone_password")
                        if (input.attr('type') === 'password') {
                            input.attr('type', 'text');
                        } else {
                            input.attr('type', 'password');
                        }
                    });
                    $('.toggle-password-upstocks').click(function(){
                        $(this).toggleClass('bi-eye bi-eye-slash');
                        var input = $("#upstocks_password")
                        if (input.attr('type') === 'password') {
                            input.attr('type', 'text');
                        } else {
                            input.attr('type', 'password');
                        }
                    });



                });
                </script>
 
       
              <div class="main_label_alert_add_broker d-flex align-items-center m-0 justify-content-between">
                <div class="main_label_password_tooltips d-flex align-items-center m-0">
                  <label for="zerodha_totp_key" class="m-0">TOTP Secret key </label>
                  <div class="tooltip-container">
                 <svg class="MuiSvgIcon-root tooltip-trigger" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation" style="width: 13px; height: 13px; color: var(--textColor2); margin-left: 2px; vertical-align: text-bottom;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></svg>
                    <div class="tooltip">Your TOTP secret key is securely stored for authentication.</div>
                  </div>
                </div>
        
                <i class='bx bx-play-circle' id="secret_key_tuto_1" ></i>

              </div>
   
            <input type="text" class="form-control m-0" id="upstocks_totp_key" name="upstocks_totp_key"
              placeholder="Enter Upstox TOTP Key" required />
              <div class="hyper_totp_secret">
                <a href="https://account.upstox.com/totp" onclick="upstocks()" target="_blank" style="    font-size: 12px;
                font-weight: 600;
                text-decoration: none;
                ">Get TOPT key .</a>
    
              </div>

              <script>
                function upstocks() {
                    var newWindow = window.open('https://account.upstox.com/totp', '_blank', 'width=900,height=800');
                    if (newWindow) {
                        newWindow.focus();
                    } else {
                        alert('Please allow popups for this site to open the link.');
                    }
                }
                </script>
        
            <label for="upstocks_phone_number">Registered phone Number</label>
            <input type="text" class="form-control" id="upstocks_phone_number" name="upstocks_phone_number"
              placeholder="Enter Upstox Reg phone Number" required />

            <label for="upstocks_api_key">API Key</label>
            <input type="text" class="form-control" id="upstocks_api_key" name="upstocks_api_key"
              placeholder="Enter Upstox API Key" required />

            <label for="upstocks_secret_key">Secret Key</label>
            <input type="text" class="form-control" id="upstocks_secret_key" name="upstocks_secret_key"
              placeholder="Enter Upstox Secret Key" required />

             

              <div class="main_label_alert_add_broker d-flex align-items-center m-0">
                <label for="zerodha_totp_key" class="m-0">Header name (Editable)</label>
                <div class="tooltip-container">
               <svg class="MuiSvgIcon-root tooltip-trigger" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation" style="width: 13px; height: 13px; color: var(--textColor2); margin-left: 2px; vertical-align: text-bottom;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></svg>
                  <div class="tooltip_totp_advance">This field is designated as your account name for activating the broker functionality. You can choose any name you prefer.</div>
                </div>


              </div>

            <input type="text" class="form-control" id="upstocks_app_name" name="upstocks_app_name"
              placeholder="Enter App Name" required />
              <style>
                .checkbox-wrapper-4 .ikxBAC {
                  appearance: none;
                  background-color: #dfe1e4;
                  border-radius: 72px;
                  border-style: none;
                  flex-shrink: 0;
                  height: 20px;
                  margin: 0;
                  position: relative;
                  gap: 0.4rem;

                  width: 30px;
                }
              
                .checkbox-wrapper-4 .ikxBAC::before {
                  bottom: -6px;
                  content: "";
                  left: -6px;
                  position: absolute;
                  right: -6px;
                  top: -6px;
                }
              
                .checkbox-wrapper-4 .ikxBAC,
                .checkbox-wrapper-4 .ikxBAC::after {
                  transition: all 100ms ease-out;
                }
              
                .checkbox-wrapper-4 .ikxBAC::after {
                  background-color: #fff;
                  border-radius: 50%;
                  content: "";
                  height: 14px;
                  left: 3px;
                  position: absolute;
                  top: 3px;
                  width: 14px;
                }
              
                .checkbox-wrapper-4 input[type=checkbox] {
                  cursor: default;
cursor: pointer;
                  padding: 0 19px;
                }
              
                .checkbox-wrapper-4 .ikxBAC:hover {
                  background-color: #c9cbcd;
                  transition-duration: 0s;
                }
              
                .checkbox-wrapper-4 .ikxBAC:checked {
                  background-color: blue;
                }
              
                .checkbox-wrapper-4 .ikxBAC:checked::after {
                  background-color: #fff;
                  left: 21px;
                }
              
                .checkbox-wrapper-4 :focus:not(.focus-visible) {
                  outline: 0;
                }
              
                .checkbox-wrapper-4 .ikxBAC:checked:hover {
                  background-color: #273eff;
                }
              </style>

  <div class="main_upstocks_totp_section">

           
    <div class="main_label_alert_add_broker d-flex align-items-center m-0">
      <label for="zerodha_totp_key" class="m-0">TOTP Advance Security</label>
      <div class="tooltip-container">
     <svg class="MuiSvgIcon-root tooltip-trigger" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation" style="width: 13px; height: 13px; color: var(--textColor2); margin-left: 2px; vertical-align: text-bottom;"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></svg>
        <div class="tooltip_totp_advance">To enhance security, we employ TOTP when activating the broker.</div>
      </div>


    </div>
  
                <div class="main_advance_security d-flex gap-2 align-items-center" id="upstocks_advance_security_radios">
                
  
  
                  <div class="checkbox-wrapper-4" style="
                  display: flex;
                  gap: 0.3rem;

                  cursor: pointer;">

       

                    <input type="checkbox" id="upstocks_advance_security" class="sc-gJwTLC ikxBAC" value="no">
                    <label class="form-check-label" for="upstocks_advance_security">No</label>
                  </div>
  
                  

              </div>
              

              </div>


          </div>
       
   
          
          <div class="validating_space"></div>


          <!-- Add similar div blocks for other brokers -->
          <div class="action_broker_btn_save_validate d-flex gap-1" style="flex-direction: column;">

            <div class="form-check">
              <!-- <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
              <label class="form-check-label" for="flexCheckDefault" style="font-size: 0.8rem!important;">
         If you account will logged in from another device or location , you will get notified from our side !!
              </label> -->
              <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked>
              <label class="form-check-label" for="flexCheckDefault" style="font-size: 0.8rem!important;">
     
         <p>  I agree with the<a href="" target="_blank" style="text-decoration: none;"> terms and conditions !</a></p>
              </label>
            </div>
        <style>
          .phone_number_contact {
            position: relative;
          }
          .phone_number_contact i {
            position: relative;
    background: #143671;
    color: #F7C72A;
    border-radius: 50%;
    font-weight: 100;
    padding: 3px;
    border: 3px solid #F7C72A;
    z-index: 9;
          }
          .phone_number_contact p a {
            font-size: 14px;
    position: absolute;
    top: 6px;
    left: 29px;
    padding: 3px 15px;
    color: #F7C72A;
    background: #143671;
    border-radius: 0px 3px 20px 0;
    text-decoration: none;
          }
.call_now_title{
  position: absolute;
    bottom: -11px;
    font-size: 12px;
    left: 43px;
    color: #F7C72A;
}
        
        </style>
            <button class="save_zerodha_btn">Add Broker</button>
          </div>
          <hr>
          <div class="phone_number_contact mt-2">

            <div class="main_cicall_us_now ">

    <p style="font-size: 15px;">         Call us now : </p> 

  <p style="font-size: 13px;" class="mt-2 p-0">             optionperks@gmail.com | 9642424545</p>
            </div>
      

            <!-- <i class='bx bxs-phone fs-3'></i>
            <p class="call_now_title">Call us now !!</p>
            <p class="m-0"> <a href="tel:9642424545">9642424545</a></p> -->

          </div>
        </form>
      </div>


     
    </div>


    <script>
      var checkbox = $("#zerodha_advance_security");
      var checkbox_angel_one = $("#angelone_advance_security");
      var checkbox_upstocks = $("#upstocks_advance_security");
  checkbox.change(function() {
// Update label text and value based on checkbox state
label = checkbox.is(":checked") ? "Yes" : "No";
value = checkbox.is(":checked") ? "yes" : "no";
$("label[for='zerodha_advance_security']").text(label);

checkbox.val(value)
});
  checkbox_angel_one.change(function() {
// Update label text and value based on checkbox_angel_one state
label = checkbox_angel_one.is(":checked") ? "Yes" : "No";
value = checkbox_angel_one.is(":checked") ? "yes" : "no";
$("label[for='angelone_advance_security']").text(label);

checkbox_angel_one.val(value)
});
  checkbox_upstocks.change(function() {
// Update label text and value based on checkbox_upstocks state
label = checkbox_upstocks.is(":checked") ? "Yes" : "No";
value = checkbox_upstocks.is(":checked") ? "yes" : "no";
$("label[for='upstocks_advance_security']").text(label);

checkbox_upstocks.val(value)
});
</script>

































      <style>
        .main_broker_card {
          box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
          width: 19rem;
          padding: 0.5rem 1rem;
          border-radius: 10px;
        }

        .top_head_broker_card {
          display: flex;
          justify-content: space-between;
          align-items: flex-end;
        }

        .left_app_name_broker {
          display: flex;
          gap: 0.2rem;
          padding: 5px 5px 0 5px;
          border-radius: 7px;
        }

        .right_broker_id h6 {
          background: #dedede;
          padding: 2px 13px;
          font-size: 12px;
          color: darkslategray;
          border-radius: 5px;
          color: dimgray;
        }

        .main_broker_loggin_id {
          margin-top: 10px;
          color: dimgray;
        }
        .main_broker_password{
         margin: 10px 0;
        }

        .main_broker_password,.enter_totp_verify_input {
 
          color: dimgray;
        }

        .activate_api {
          width: 39px;
          height: 22px;
          border-radius: 13px;
        }

        .app_name_main,
        .broker_name_main {
          color: dimgray;
        }

        .checkbox-wrapper-14 label {
          all: unset;
          color: dimgray;
        }

        .checkbox-wrapper-14 {
          display: flex;
        }

        .main_broker_action_btn {
          display: flex;
          justify-content: space-between;
          align-items: center;

        }


        .delete_btn_broker i {
          font-size: 20px;
          color: dimgray;
          transition: 0.3s;

        }

        .delete_btn_broker.delete_broker:hover {

          color: rgb(199, 0, 0);

        }

        .delete_btn_broker.edit_broker:hover {

          color: rgb(0, 143, 2);

        }

        .main_broker_password h6 i {
          font-size: 0.8rem;
        }

        .broker_active_status {
          background-color: #E6F4EA;
          color: #137333;
        }

        .broker_deactive_status {
          background-color: #FCE8E6;
          color: #A50E0E;
        }

        .broker_activation_status_text_true {
          color: #137333;
        }

        .broker_activation_status_text_false {
          color: #A50E0E;
        }

        .delete_btn_broker {
          display: flex;
          gap: 0.6rem;
        }
      </style>





      <style>
        .main_broker_api_box {
          box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
          margin: 13px;
          padding: 11px;
        }

        .api_activation_otp{
          width: 126px;
    margin: 8px 0;
        }
        .api_activation_otp:focus{
         
          border :1px solid #A50E0E ;

        }
      </style>

      <!-- <script>
        $(document).ready(function () {
          // Set default selected option
          $("#all_brokers").val("zerodha");

          // Show/hide fields based on the selected broker
          $("#all_brokers").change(function () {
            var selectedBroker = $(this).val();

            // Hide all broker fields
            $("div[id$='Fields']").hide();

            // Show fields for the selected broker
            $("#" + selectedBroker + "Fields").show();
          });


          $(".save_zerodha_btn").click(function (event) {
            event.preventDefault(); // Prevent the default form submission

            // Get values based on the selected broker
            var selectedBroker = $("#all_brokers").val();
            var platform = $("#" + selectedBroker + "_platform").val();
            var loginId = $("#" + selectedBroker + "_login_id").val();
            var password = $("#" + selectedBroker + "_password").val();
            var totpKey = $("#" + selectedBroker + "_totp_key").val();
            var appName = $("#" + selectedBroker + "_app_name").val();
            var apiKey = $("#" + selectedBroker + "_api_key").val();

            // Remove undefined values
            const definedValues = [platform, loginId, password, totpKey, appName, apiKey].filter(val => val !== undefined);

            // Check if any of the remaining values is an empty string
            if (definedValues.some(val => val.trim() === '')) {
              // Display SweetAlert2 warning message
              Swal.fire({
                icon: 'warning',
                title: 'Warning',
                text: 'Please fill in all fields.',
              });
              return; // Stop execution if any field is an empty string
            }





            // Log the values
            //////console.log("Broker: " + selectedBroker);
            //////console.log("Platform: " + platform);
            //////console.log("Login ID: " + loginId);
            //////console.log("Password: " + password);
            //////console.log("TOTP Key: " + totpKey);
            //////console.log("App Name: " + appName);
            //////console.log("Api Key: " + apiKey);

            var data = {
              'broker_name': selectedBroker,
              'trading_platform': platform,
              'logging_id': loginId,
              'password': password,
              'totp_key': totpKey,
              'api_key': apiKey,
              'app_name': appName,
              // Add other fields as needed
            };
            data = Object.fromEntries(Object.entries(data).filter(([_, v]) => v !== undefined));

            //////console.log(data);


            // Display loading indicator
            $('.validating_space').text('Validating your broker API...'); // Assuming '.validating_space' is a placeholder for your loading message

            // Perform AJAX request
            $.ajax({
              url: '/add_broker_api_main',
              method: 'POST',
              contentType: 'application/json',
              data: JSON.stringify(data),
              beforeSend: function () {
                // You can also show a loader or disable certain elements during the request
                // Example: $('.loader').show();
              },
              success: function (response) {
                //////console.log('Success:', response);

                // Reset form fields
                // $("#" + selectedBroker + "_platform").val('');
                $("#" + selectedBroker + "_login_id").val('');
                $("#" + selectedBroker + "_password").val('');
                $("#" + selectedBroker + "_totp_key").val('');
                $("#" + selectedBroker + "_app_name").val('');
                $("#" + selectedBroker + "_api_key").val('');

                // Display SweetAlert2 success message
                Swal.fire({
                  icon: 'success',
                  title: 'Success',
                  text: response.message,
                });
                getAllBrokers()

                // Add more fields if needed

              },
              error: function (error) {
                //////console.log('Error:', error);

                // Display SweetAlert2 error message
                Swal.fire({
                  icon: 'error',
                  title: 'Error',
                  text: error.responseJSON.message,
                });

                // Display validation message
                $('.validating_space').text('Validation of your broker API failed.');

              },
              complete: function () {
                // This function will be called regardless of success or error
                // You can hide loaders or re-enable elements here
                // Example: $('.loader').hide();
                $('.validating_space').text('');
              }
            });



          });
          function getAllBrokers() {
            // Make an AJAX GET request to your Django view
            $.ajax({
              type: 'GET',
              url: '/add_broker_api_main',  // Replace with your actual Django view URL
              dataType: 'json',
              success: function (response) {
                // Log the response to the console
                //////console.log(response.brokers);

                // Clear the existing content in #zerodha_data_display
                $('#zerodha_data_display').empty();

                // Loop through the brokers array and display the data
                var brokers = response.brokers;
                var displayElement = $('#zerodha_data_display');

                for (var i = 0; i < brokers.length; i++) {
                  var broker = brokers[i];

                  var checkboxState = broker.active_api ? 'checked' : '';
                  var switch_text = broker.active_api ? 'Activated' : 'Inactive';
                  var delete_btn_action_con = broker.active_api ? 'd-none' : '';
                  var broker_activation_status = broker.active_api ? 'broker_active_status' : 'broker_deactive_status';
                  var broker_activation_status_text = broker.active_api ? 'broker_activation_status_text_true' : 'broker_activation_status_text_false';

                  var brokerHtml = `
                <div class="main_broker_card">

                                  <div class="top_head_broker_card">
                                    <div class="left_app_name_broker ${broker_activation_status}">

                                      <div class="app_name_main"><h6 class="${broker_activation_status}">${broker.app_name}</h6></div> <div>-</div> <div class="broker_name_main"><h6 class="${broker_activation_status}">${broker.broker_name}</h6></div>


                                    </div>
                                    <div class="right_broker_id">
                                      <h6 > ${broker.id}</h6>
                                    </div>

                                  </div>


                                  <div class="main_broker_loggin_id">
                                    <h6 >Loggin Id :  <span class="${broker_activation_status_text}">  ${broker.logging_id}</span></h6>
                                  </div>
                                  <div class="main_broker_password">
                                  <h6 >Password :  <span class="${broker_activation_status_text}">  <i class="bi bi-asterisk"></i> <i class="bi bi-asterisk"></i> <i class="bi bi-asterisk"></i> <i class="bi bi-asterisk"></i> <i class="bi bi-asterisk"></i></span></h6>
                                  </div>

                                  <div  class="main_broker_action_btn">
                                  <div class="checkbox-wrapper-14">
                                    <input id="s1-14" type="checkbox" class="switch activate_api" ${checkboxState} data-id="${broker.id}">
                                    <label for="s1-14">${switch_text}</label>
                                  </div>

                                  <div class="delete_btn_broker ${delete_btn_action_con}">
                                    <i class="bi bi-pencil-square edit_broker" data-edit_id="${broker.id}"></i>
                                    <i class="bi bi-trash-fill delete_broker" data-delete_id="${broker.id}"></i>
                                    
                                    </div>

                                  </div>

                                  </div>
                `;
                  displayElement.append(brokerHtml);
                }

                $(".delete_btn_broker .delete_broker").click(function () {
                  var brokerId = $(this).data("delete_id");

                  //////console.log(brokerId);

                  Swal.fire({
                    title: "Are you sure?",
                    text: "You won't be able to revert this!",
                    icon: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#3085d6",
                    cancelButtonColor: "#d33",
                    confirmButtonText: "Yes, delete it!"
                  }).then((result) => {
                    if (result.isConfirmed) {
                      // Get CSRF token from the cookie
                      var csrftoken = $("[name=csrfmiddlewaretoken]").val();

                      // Send AJAX request to delete broker
                      $.ajax({
                        url: "/delete_broker",  // Replace with your Django URL
                        method: "POST",
                        data: {
                          csrfmiddlewaretoken: csrftoken,
                          brokerId: brokerId
                        },
                        success: function (data) {
                          Swal.fire({
                            title: "Deleted!",
                            text: "Your broker has been deleted.",
                            icon: "success"
                          });
                          getAllBrokers()
                          // Optionally, you can remove the broker from the UI
                          // $(this).closest('.broker-container').remove();
                        },
                        error: function (error) {
                          //////console.log("Error deleting broker:", error);
                          Swal.fire({
                            title: "Error!",
                            text: "There was an error deleting the broker.",
                            icon: "error"
                          });
                        }
                      });
                    }
                  });
                });

               $(".edit_broker").click(function () {
    //////console.log($(this).data("edit_id"));

    // Use slideDown to show the element with a slide animation
    $("#update_api").slideDown();

    // $(".update_broker_canvas").click(function () {
    //     // Use slideUp to hide the element with a slide animation
    //     $("#update_api").slideUp();
    // });
});












                // Add event listener for checkbox change
                $('.activate_api').on('change', function () {

                  //         ('.activate_api').prop('checked', false);
                  // // Check the current checkbox
                  // $(this).prop('checked', true);


                  var brokerId = $(this).data('id');
                  var isActive = $(this).prop('checked');

                  // Make an AJAX POST request to update the active_api value
                  $.ajax({
                    type: 'POST',
                    url: '/update_active_api',
                    data: {
                      'broker_id': brokerId,
                      'is_active': isActive
                    },
                    success: function (response) {
                      //////console.log('API activation status updated successfully.');

                      getAllBrokers()
                    },
                    error: function (error) {
                      console.error('Error updating API activation status:', error);
                    }
                  });
                });

              },
              error: function (error) {
                // Log the error to the console
                console.error(error);

                // Handle the error as needed
                // For example, you can show an error message to the user
              }
            });
          }


          // Call the function to get and display brokers
          getAllBrokers();



        });
      </script> -->



    </div>


    <style>
      .banner{
        background: rgb(2,0,36);
        background: linear-gradient(93deg, rgba(2,0,36,1) 0%, rgba(9,9,121,1) 0%, rgba(0,212,255,1) 100%);
        display: inline;
        float: left;
        /* padding: 60px 0 150px; */
        padding: 30px 10px 20px 10px;
        width: 100%;
    }

    .mu-hero-featured-content {
      display: inline;
      float: right;
      /* margin-top: 50px; */
      /* text-align: center; */
      padding: 40px 10px 10px 10px;
      width: 100%;
  }
  .mu-hero-h1 {
      color: #fff;
      font-size: 45px;
      font-weight: 300px;
      /* text-shadow: 2px 2px #fff; */
      /* font-family: 'Montserrat', sans-serif; */
      font-family: 'Poppins', sans-serif;
  }
  .mu-hero-h2 {
      padding: 20px 0px;
      font-size: 30px;
      font-weight: 400;
      line-height: 36px;
      color: #fff;
      /* font-family: 'Quicksand', sans-serif; */
      font-family: 'Poppins', sans-serif;
  }

  .mu-hero-p {
      font-size: 16px;
      font-weight: bold;
      color: #fff;
  }

  .btn-blk {
      margin-bottom: 30px;
  }

  .btn-blk a{
    text-decoration: none;
}

.btn-light {
    font-weight: 500;
    color: #1e2022;
    text-align: center;
    vertical-align: middle;
    user-select: none;
    padding: 0.75rem 1rem;
    font-size: 18px;
    line-height: 1.5;
    border-radius: 0.25rem;
    transition: all 0.2s ease-in-out;
    background-color: #f8f9fa;
    border-color: #f8f9fa;
    display: block;
    width: 100%;
}

.col-padding {
    padding-top: 30px;
}
.feature-program-div {
    background-color: #fff;
    color: #656565;
    height: 280px;
    border-radius: 3px;
    box-shadow: 0 0.375rem 1.5rem 0 rgba(140, 152, 164, 0.125);
    border: 0.3px solid #e7eaf3;
}

.serv-img {
    padding: 10px;
    text-align: center;
}

.serv-img img {
    height: 56px;
    margin: 0 auto;
    display: block;
}

.feature-program-txt {
  padding: 10px;
  text-align: center;
}
.feature-program-txt h4 {
  font-weight: 300;
  color: #1e2022;
  padding: 10px 0px;
}
.why-febinar-program {
  text-align: center;
}
.feature-div {
  background-color: #fff;
  color: #656565;
  height: 300px;
  border-radius: 3px;
  box-shadow: 0 0.375rem 1.5rem 0 rgba(140, 152, 164, 0.125);
  border: 0.3px solid #e7eaf3;
  margin-bottom: 30px;
  padding: 20px;
  text-align: center;
}

.serv-img {
  padding: 10px;
  text-align: center;
}

.serv-img img {
  height: 56px;
  margin: 0 auto;
  display: block;
}

#mu-sponsors {
  background-color: #fff;
  display: inline;
  float: left;
  width: 100%;
}

.menu-padding {
  padding: 60px 3px 10px 3px;
}

.search-container {
  display: flex;
  flex-wrap: wrap;
  width: 100%;
}
.search-item {
  padding: 30px width: 20%;
  flex-basis: 200px;
  flex-grow: 1;
}
.pricing-box {
  background-color: #fff;
  box-shadow: 0px 6px 6px 1px rgba(140, 152, 164, 0.125);
  text-align: center;
  border: 0.5px solid #f9f9f9;
  margin-bottom: 60px;
}
.price-header {
  background-color: #3f7bd5;
  padding: 30px 0px 0px 0px;
}
.price-header h5 {
  font-size: 24px;
  font-weight: 300px;
  color: #fff;
  padding: 0px 10px;
}
.price-header h2 {
  font-weight: bold;
  font-size: 35px;
  color: #fff;
  padding: 0px 10px;
}
.price-body {
  padding: 20px 0px;
}
.price-body p{
  margin-bottom: 1rem !important;
}
.price-body i{
  color: #427dff;
font-size: 17px !important;
}
.btn-opa {
  margin: 0 auto;
  text-align: center;
  vertical-align: middle;
  cursor: pointer;
  background-image: none;
  border: 1px solid transparent;
  white-space: nowrap;
  line-height: 1.428571429;
  border-radius: 4px;
  color: #fff;
  background-color: #3f7bd5;
  border-color: #3f7bd5;
  font-size: 16px;
  padding: 12px 28px;
  transition: 0.2s all ease;
}
#mu-sponsors a{
  text-decoration: none;
}

.feature_heading{
  display: flex;
 justify-content: space-between;
 align-items: center;
}
.feature_heading i{
  font-size: 24px !important;
  border: 2px solid black;
  border-radius: 50%;
}
.feature-text {
  font-size: 16px !important;
  font-weight: 400 !important;
  display: none; /* Hide paragraph text initially */
}
.feature-section{
  border-bottom: 1px solid #00000030;;
  padding-bottom: 10px;
}
.faq_cards h3{
font-size: 1.2rem !important;
}
</style>

<section>
  <div class="banner">
    <div class="container">
      <div class="row">
         <div class="col-md-6 col-xs-12">
                 <div class="mu-hero-featured-content">
                   {% comment %} <h1 class="mu-hero-h1">arrow</h1> {% endcomment %}
                   <!-- <h2 class="mu-hero-h2">India's First Web Based FREE API Algo Trading Platform</h2> -->
                   <h2 class="mu-hero-h2">
                    Boost Your Trading Success with Optionperks's Powerful Automation Tools!
                   </h2>
                   <!-- <h2 class="mu-hero-h2">India's First Web Trading Platform with FREE* Bridge and APIs for Auto Trade</h2> -->
                   <p class="mu-hero-p" style="float: left">
                     <span style="
                         padding-right: 20px;
                         margin-bottom: 20px;
                         font-weight: 300;
                       ">Place your orders with custom indicators, strategy from Tradingview,
                       ChartInk,Excel, GoogleSheet Python.
                     </span>
                   </p>
                 </div>
                 <div class="row">
                   <div class="col-md-4 col-xs-12 btn-blk">
                     <a href="#" data-bs-toggle="collapse" class="btn-light mrgn1" id="Activate_broker_btn">
                      <i class="bi bi-briefcase" style="margin-right: 12px !important;"></i> Activate Broker</a>
  
                      <div id="overlay" style="display: none;"></div>
                      <div class="" id="active_broker_modal" style="display: none;">
                        <div class="dismiss_active_modal">
                          <!-- <i class="bx bx-plus dismiss_icon_active_modal"></i> -->
                          <div class="triangle-up-active-modal"></div>
                        </div>
                        <div class="modal_dialog">
                          <div class="modal_content">
              
              
                            <div class="all_broker">
                              <div id="zerodha_data_display" class="d-flex">
                            <div class="main_broker_card">
              
                                              <div class="top_head_broker_card">
                                                <div class="left_app_name_broker broker_deactive_status">
              
                                                  <div class="app_name_main"><h6 class="broker_deactive_status">N54078142</h6></div> <div>-</div> <div class="broker_name_main"><h6 class="broker_deactive_status">angelone</h6></div>
              
              
                                                </div>
                                                <div class="right_broker_id">
                                                  <h6> 3</h6>
                                                </div>
              
                                              </div>
              
              
                                              <div class="main_broker_loggin_id">
                                                <h6>Loggin Id :  <span class="broker_activation_status_text_false">  N54078142</span></h6>
                                              </div>
                                              <div class="main_broker_password">
                                              <h6>Password :  <span class="broker_activation_status_text_false">  <i class="bi bi-asterisk"></i> <i class="bi bi-asterisk"></i> <i class="bi bi-asterisk"></i> <i class="bi bi-asterisk"></i> <i class="bi bi-asterisk"></i></span></h6>
                                              </div>
                                              <div class="broker_active_totp"></div>
              
                                              <div class="main_broker_action_btn">
                                              <div class="checkbox-wrapper-14">
                                                <input id="s1-3" type="checkbox" class="switch activate_api" data-id="3">
                                                <label for="s1-3">Inactive</label>
                                              </div>
              
                                              <div class="delete_btn_broker ">
              
                                                <img class="cursor-pointer edit_broker" width="19px" src="/static/img/delete_edit_btns/edit.png" data-edit_id="3">
                                                <img src="/static/img/delete_edit_btns/delete.png" width="19px" class="cursor-pointer delete_broker" data-delete_id="3">
                                      
                                                
                                                </div>
              
                                              </div>
              
                                              </div>
                            </div>
                            </div>
              
              
              
              
              
                          </div>
                        </div>
                      </div>
                   </div>
                   <div class="col-md-4 col-xs-12 btn-blk">
                    <a data-bs-toggle="offcanvas" data-bs-target="#add_api" class="btn_add_broker btn-light scrl-btn"  aria-controls="add_api">
                      <i class="bi bi-person-add" style="margin-right: 15px !important;"></i>Add Broker</a>
                   </div>
                   <div class="col-md-4 col-xs-12 btn-blk">
                    
                     <a href="#" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight" class="btn-light">
                      Add Indicator</a>
                      
                   </div>
                 </div>
         </div>
  
         <div class="col-md-6 col-xs-12 show-on-desktop">
             <img src="	https://algomojo.com/assets/images/algomojo-site-head.png" style="margin-top: -21px" width="100%">
         </div>
  
      </div>
    </div>
  </div>
  <div class="services">
    <div class="container">
      <h2 style="padding: 40px 3px 10px 3px">SERVICES</h2>
      <div class="row">
          
          <div class="col-md-3 col-sm-6 col-xs-12 col-padding">
            <div class="feature-program-div">
              <div class="serv-img">
                <img src="https://algomojo.com/assets/images/algomojo-bridge.png">
              </div>
              <div class="feature-program-txt">
                <h4>Effortless Integration</h4>
                  Optionperks-Bridge is a connectivity layer between your
                  trading platform and your broker.
              </div>
            </div>
          </div>

          <div class="col-md-3 col-sm-6 col-xs-12 col-padding">
            <div class="feature-program-div">
              <div class="serv-img">
                <img src="https://algomojo.com/assets/images/algomojo-fast.png">
              </div>
              <div class="feature-program-txt">
                <h4>Fast and Reliable</h4>
                <p>
                  Runs multiple low latency strategies that trade in bunch of
                  symbols at a time.
                </p>
              </div>
            </div>
          </div>

          <div class="col-md-3 col-sm-6 col-xs-12 col-padding">
            <div class="feature-program-div">
              <div class="serv-img">
                <img src="https://algomojo.com/assets/images/algomojo-api.png">
              </div>
              <div class="feature-program-txt">
                <h4>Seamless API Management</h4>
                <p>
                  Optionperks-Bridge is a connectivity layer between your
                  trading platform and your broker.
                </p>
              </div>
            </div>
          </div>

          <div class="col-md-3 col-sm-6 col-xs-12 col-padding">
            <div class="feature-program-div">
              <div class="serv-img">
                <img src="https://algomojo.com/assets/images/algomojo-order-management.png">
              </div>
              <div class="feature-program-txt">
                <h4>Trade Anywhere</h4>
                <p>
                  Provides you compelete view of trades placed in
                  your Trading Account.
                </p>
              </div>
            </div>
          </div>
        </div>
    </div>
  </div>  
  <div class="how_works mt-4" style="background-image: linear-gradient(150deg,#363795 0%,#005c97 100%); border-radius: 3px;">
    <div class="container">
      <div class="why-febinar-program">
        <h2 style="font-weight: 600;padding: 10px 3px 15px 3px;color: #fff;">How it works?</h2>
      </div>
      <div class="container">
  
          <div class="row">
              <div class="col-lg-4 col-md-4 col-sm-12">
                  <div style="padding: 8px; border-radius: 8px">
                      <div style="text-align: center">
                        <img src="https://algomojo.com/assets/images/algomojo-strategy.png" style="height: 100px; margin-top: -20px; margin: 0 auto">
                        <p style="
                            margin-left: 10px;
                            margin-top: 15px;
                            color: #fff;
                            font-weight: bold;
                          ">
                          Run the strategy in your Software
                        </p>
                      </div>
                    </div>
              </div>
              <div class="col-lg-4 col-md-4 col-sm-12">
                  <div style="padding: 8px; border-radius: 8px">
                      <div style="text-align: center">
                        <img src="https://algomojo.com/assets/images/algomojo-apibridge.png" style="height: 100px; margin-top: -20px; margin: 0 auto">
                        <p style="
                            margin-left: 10px;
                            margin-top: 15px;
                            color: #fff;
                            font-weight: bold;
                          ">
                          Pass the order to Bridge
                        </p>
                      </div>
                    </div>
              </div>
              <div class="col-lg-4 col-md-4 col-sm-12">
                  <div style="padding: 8px; border-radius: 8px">
                      <div style="text-align: center">
                        <img src="https://algomojo.com/assets/images/algomojo-trading.png" style="height: 100px; margin-top: -20px; margin: 0 auto">
                        <p style="
                            margin-left: 10px;
                            margin-top: 15px;
                            color: #fff;
                            font-weight: bold;
                          ">
                          Place the Order in your Trading Terminal
                        </p>
                      </div>
                    </div>
              </div>
          </div>
      </div>
    </div>
  </div>
  <div class="features_div">
    <div class="container">
      <div class="row">
          <div class="col-md-12 col-xs-12">
              <h2 style="padding: 23px 3px">FEATURES</h2>
            </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        {% comment %} <div class="col-md-4 col-xs-12">
          <div class="">
            <img src="https://algomojo.com/assets/images/algomojo-features.png" style="width: 100%">
          </div>
        </div> {% endcomment %}
        <div class="col-md-12 col-xs-12">
          <div class="row">
            <div class="col-md-6 col-xs-12">
              <div class="feature-div">
                <div class="serv-img">
                  <img src="https://algomojo.com/assets/images/algomojo-bridge.png">
                </div>
                <h4>Effortless Integration</h4>
                <p>
                  <b>Optionperks-Bridge</b> is a connectivity layer between your
                  trading platform and your broker.
                </p>
              </div>
            </div>
            <div class="col-md-6 col-xs-12">
              <div class="feature-div">
                <div class="serv-img">
                  <img src="https://algomojo.com/assets/images/algomojo-api.png">
                </div>
                <h4>Seamless API Management</h4>
                <p>
                  <b>Optionperk-API</b> enables developers to build automated
                  trading solutions on the optionperks infrastructure.
                </p>
              </div>
            </div>
            <div class="col-md-6 col-xs-12">
              <div class="feature-div">
                <div class="serv-img">
                  <img src="https://algomojo.com/assets/images/algomojo-order-management.png">
                </div>
                <h4>Trade Anywhere</h4>
                <p>
                  Provides you compelete view of <b>trades</b> placed in
                  your Trading Account.
                </p>
              </div>
            </div>
            <div class="col-md-6 col-xs-12">
              <div class="feature-div">
                <div class="serv-img">
                  <img src="{% static 'img/delete_edit_btns/multiplebroker.png' %}">
                </div>
                <h4>API and Broker</h4>
                <p>
                  Optionperks extends its comprehensive support to a multitude of brokers and APIs, encompassing Kt (Zerodha's Kite), Upstox, Fyers, Alice blue, Angel Broking (Angel One), Tradingview . This diverse range of compatible platforms ensures that users can seamlessly connect to their preferred trading and financial services through optionperks.
                </p>
              </div>
            </div>
            
          </div>
        </div>
      </div>
    </div>
  </div>
  <section id="mu-sponsors">
        <div class="" style="background-color: #f9f9f9">
          <div class="container">
            <div class="container">
              <div class="row">
                <div class="col-md-12 col-xs-12">
                  <h2 class="menu-padding">PRICING</h2>
                </div>
              </div>
              <div class="row search-container">
                <div class="col-md-3 col-xs-12 search-item">
                  <div class="pricing-box">
                    <div class="price-header">
                      <h5>3 DAYS</h5>
                      <h2><i class="bx bx-rupee"></i> 199</h2>
                      <img src="https://algomojo.com/assets/images/algomojo-pricing-wave.png" alt="pricing wave image" width="100%">
                    </div>
                    <div class="price-body">
                        <p><i class="bx bx-check"></i> Trade on NSE, NFO, MCX, CDS</p>
                        <p><i class="bx bx-check"></i>Unlimited with TradingView</p>
                        <p><i class="bx bx-check"></i>Unlimited with Chartink</p>
                        <p><i class="bx bx-check"></i>Options Algo: Unlimited Trading</p>
                        <p><i class="bx bx-check"></i> All Major Indian Brokers</p>
                        <p>
                          <i class="bx bx-check"></i> Multibroker Connectivity
                        </p>
                      <!-- <p style="margin-bottom: 15px;"><i class="bx bx-check"></i> Open Trading account<br /> with us</p> -->
                      <a href="#" target="_blank" class="btn-opa">GET MEMBERSHIP</a>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 col-xs-12 search-item">
                  <div class="pricing-box">
                    <div class="price-header">
                      <h5>1 MONTH</h5>
                      <h2><i class="bx bx-rupee"></i> 999</h2>
                      <img src="https://algomojo.com/assets/images/algomojo-pricing-wave.png" alt="pricing wave image" width="100%">
                    </div>
                    <div class="price-body">
                        <p><i class="bx bx-check"></i> Trade on NSE, NFO, MCX, CDS</p>
                        <p><i class="bx bx-check"></i>Unlimited with TradingView</p>
                        <p><i class="bx bx-check"></i>Unlimited with Chartink</p>
                        <p><i class="bx bx-check"></i>Options Algo: Unlimited Trading</p>
                        <p><i class="bx bx-check"></i> All Major Indian Brokers</p>
                        <p>
                          <i class="bx bx-check"></i> Multibroker Connectivity
                        </p>
                      <a href="#" target="_blank" class="btn-opa">GET MEMBERSHIP</a>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 col-xs-12 search-item">
                  <div class="pricing-box">
                    <div class="price-header">
                      <h5>3 MONTH</h5>
                      <h2><i class="bx bx-rupee"></i> 2,697.3</h2>
                      <img src="https://algomojo.com/assets/images/algomojo-pricing-wave.png" alt="pricing wave image" width="100%">
                    </div>
                    <div class="price-body">
                        <p><i class="bx bx-check"></i> Trade on NSE, NFO, MCX, CDS</p>
                        <p><i class="bx bx-check"></i>Unlimited with TradingView</p>
                        <p><i class="bx bx-check"></i>Unlimited with Chartink</p>
                        <p><i class="bx bx-check"></i>Options Algo: Unlimited Trading</p>
                        <p><i class="bx bx-check"></i> All Major Indian Brokers</p>
                        <p>
                          <i class="bx bx-check"></i> Multibroker Connectivity
                        </p>
                      <a href="#" target="_blank" class="btn-opa">GET MEMBERSHIP</a>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 col-xs-12 search-item">
                  <div class="pricing-box">
                    <div class="price-header">
                      <h5>6 MONTH</h5>
                      <h2><i class="bx bx-rupee"></i> 4,795.2</h2>
                      <img src="https://algomojo.com/assets/images/algomojo-pricing-wave.png" alt="pricing wave image" width="100%">
                    </div>
                    <div class="price-body">
                      <p><i class="bx bx-check"></i> Trade on NSE, NFO, MCX, CDS</p>
                      <p><i class="bx bx-check"></i>Unlimited with TradingView</p>
                      <p><i class="bx bx-check"></i>Unlimited with Chartink</p>
                      <p><i class="bx bx-check"></i>Options Algo: Unlimited Trading</p>
                      <p><i class="bx bx-check"></i> All Major Indian Brokers</p>
                      <p>
                        <i class="bx bx-check"></i> Multibroker Connectivity
                      </p>
                      <a href="#" target="_blank" class="btn-opa">GET MEMBERSHIP</a>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 col-xs-12 search-item">
                  <div class="pricing-box">
                    <div class="price-header">
                      <h5>YEARLY</h5>
                      <h2><i class="bx bx-rupee"></i> 8,391.6</h2>
                      <img src="https://algomojo.com/assets/images/algomojo-pricing-wave.png" alt="pricing wave image" width="100%">
                    </div>
                    <div class="price-body">
                      <p><i class="bx bx-check"></i> Trade on NSE, NFO, MCX, CDS</p>
                      <p><i class="bx bx-check"></i>Unlimited with TradingView</p>
                      <p><i class="bx bx-check"></i>Unlimited with Chartink</p>
                      <p><i class="bx bx-check"></i>Options Algo: Unlimited Trading</p>
                      <p><i class="bx bx-check"></i> All Major Indian Brokers</p>
                      <p>
                        <i class="bx bx-check"></i> Multibroker Connectivity
                      </p>
                      <a href="#" target="_blank" class="btn-opa">GET MEMBERSHIP</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
  </section>
  <section id="mu-faq" style="background-color: #f8fafc; padding: 40px !important;">
    <div class="container">
      <div class="row">
        <div class="col-md-12 col-xs-12">
          <div class="mu-about-area" style="padding: 30px;">
            <div class="oh-speaker-title" style="text-align: center">
              <h1>Frequently Asked Questions</h1>
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="row">
      <div class="col-md-2 col-xs-12"></div>
      <div class="col-md-10 col-xs-12">
        <div class="mu-faq-area" style="background-color: #f8fafc;">
          <div class="faq-title">
            <h2>Frequently Asked Questions</h2>
          </div>
        </div>
      </div>
      <div class="col-md-2 col-xs-12"></div>
    </div> -->

      <div class="row">
        <div class="col-md-6 col-xs-12 faq_cards">
          <div class="feature-section">
            <div class="feature_heading">
                <h3>What is a Bot?</h3><span class="toggle-icon"><i class='bx bx-plus'></i></span>
            </div>
            <p class="feature-text">
                Bots execute trading strategies inside your portfolio. Bots are the home for your positions, risk management, and automations. You are in complete control of your bot's activity and tell them what to do and when to do it. You can automate all of your strategy from entry to exit, or create hybrid manual-automated strategies.
            </p>
          </div>
        </div> 
        <div class="col-md-6 col-xs-12 faq_cards">
          <div class="feature-section">
            <div  class="feature_heading">
                <h3>What are the services provided by Optionperks?</h3><span class="toggle-icon"><i class='bx bx-plus'></i></span>
            </div>
            <p class="feature-text">
              Optionperks provided end to end requirements of an Algo trader
              right from Automated Trading Education, API connectivity to
              multiple brokers, Execution module and sample codes to
              multiple trading platforms, Datafeed to the various platforms,
              trading bridge, Datafeed API, Virtual servers, free strategy
              libraries, Code development, and community support.
            </p>
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-6 col-xs-12 faq_cards">
          <div class="feature-section">
            <div  class="feature_heading">
                <h3>What is an automation?</h3><span class="toggle-icon"><i class='bx bx-plus'></i></span>
            </div>
            <p class="feature-text">
                Automations are the instruction manual for your bots. You can use automations to scan the market for opportunities, open positions, manage your trades, and more. Automations run at 15 minute intervals, or you can run them on custom schedules.<br>
            </p>
          </div>
        </div>
        <div class="col-md-6 col-xs-12 faq_cards">
          <div class="feature-section">
            <div  class="feature_heading">
                <h3>
                    How do you automate trading from Tradingview?
                </h3><span class="toggle-icon"><i class='bx bx-plus'></i></span>
            </div>
            <p class="feature-text">
                To buy and sell on your strategy or indicator on Tradingview, you need to create alerts and add Nextlevelbot syntax to those alerts for buying and selling. When your Tradingview strategy generates an alert, the buy and sell information associated with that alert is sent to your broker with the help of Nextlevelbot. To clarify or know in detail please call us on our support number.<br>
            </p>
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-6 col-xs-12 faq_cards">
          <div class="feature-section">
            <div  class="feature_heading">
                <h3>
                  What is the trading platform support by the Optionperks Platform?
                </h3><span class="toggle-icon"><i class='bx bx-plus'></i></span>
            </div>
            <p class="feature-text">
              Optionperks Supports Amibroker, Tradingview, Excel, Metatrader,
              Python, C# based Applications.<br>
            </p>
          </div>
        </div>
        <div class="col-md-6 col-xs-12 faq_cards">
          <div class="feature-section">
            <div  class="feature_heading">
                <h3>Who are the supported brokers?</h3><span class="toggle-icon"><i class='bx bx-plus'></i></span>
            </div>
            <p class="feature-text">
              Currently, Optionperks Supports Angel One, Fyers, Upstox, Icici, Zerodha<br>
            </p>
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-6 col-xs-12 faq_cards">
          <div class="feature-section">
            <div class="feature_heading">
                <h3>
                  Can you recommend which broker to open a trading account?
                </h3><span class="toggle-icon"><i class='bx bx-plus'></i></span>
            </div>
            <p class="feature-text">
              We are broker-neutral and we like to provide a wide array of
              choices and the users of Optionperks can choose their own
              favorite brokers.<br>
            </p>
          </div>
        </div>
        <div class="col-md-6 col-xs-12 faq_cards">
          <div class="feature-section">
            <div  class="feature_heading">
                <h3>Does Optionperks provides any guarantee on returns?</h3><span class="toggle-icon"><i class='bx bx-plus'></i></span>
            </div>
            <p class="feature-text">
              Absolutely Not. The trader has to take complete responsibility
              for their trading strategies. Optionperks will neither take any
              responsibility for the returns of traders.<br>
            </p>
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-6 col-xs-12 faq_cards">
          <div class="feature-section">
            <div  class="feature_heading">
                <h3>How Secure is Optionperks?</h3> <span class="toggle-icon"><i class='bx bx-plus'></i></span>
            </div>
            <p class="feature-text">
              Optionperks provides enterprise-level security for the users and
              provides a resilient, secure, extensible, and scalable
              environment for the users.<br>
            </p>
          </div>
        </div>
        <div class="col-md-6 col-xs-12 faq_cards">
          <div class="feature-section">
            <div  class="feature_heading">
                <h3>How can I get Optionperks Support?</h3><span class="toggle-icon"><i class='bx bx-plus'></i></span>
            </div>
            <p class="feature-text">
              Optionperks users by default get Chat Support and Ticket Support.
              Alternatively users also can mail their queries to
              support@Optionperks.com<br>
            </p>
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-6 col-xs-12 faq_cards">
          <div class="feature-section">
            <div  class="feature_heading">
                <h3>Will Optionperks Stores the Login ID and Password?</h3><span class="toggle-icon"><i class='bx bx-plus'></i></span>
            </div>
            <p class="feature-text">
              Absolutely Not, Users will have to mandatorily enter the login
              id and password on daily basis in their respective brokers
              portal while logged into Optionperks platform. Optionperks will not
              store any of the trader's login id/passwords.<br>
            </p>
          </div>
        </div>
        <div class="col-md-6 col-xs-12 faq_cards">
          <div class="feature-section">
            <div  class="feature_heading">
                <h3>Will Optionperks Provide Any In-Built Strategies?</h3><span class="toggle-icon"><i class='bx bx-plus'></i></span>
            </div>
            <p class="feature-text">
              Optionperks will not provide In-Built Trading Strategies.
              However, from the Trading Library users can download the
              trading strategies which can be integrated with the traders
              favorite platform.<br>
            </p>
          </div>
        </div>
      </div>
    </div>
  </section> 
    
</section>
    




<script>
    $(document).ready(function () {


      $('.toggle-icon').click(function() {
        // Toggle visibility of the next sibling paragraph text
        $(this).parent().next('.feature-text').slideToggle('slow');
        var $icon = $(this).find('i');
if ($icon.hasClass('bx-plus')) {
  $icon.removeClass('bx-plus').addClass('bx-minus');
  $icon.animate({ deg: 180 }, {
    duration: 200,
    step: function(now) {
      $(this).css({ transform: 'rotate(' + now + 'deg)' });
    }
  });
} else {
  $icon.removeClass('bx-minus').addClass('bx-plus');
  $icon.animate({ deg: 0 }, {
    duration: 200,
    step: function(now) {
      $(this).css({ transform: 'rotate(' + now + 'deg)' });
    }
  });
}
      });


      const optionChainButton = $("#optionChain_canvas");
      const allApiButton = $("#all_api_button");
      const optionChainCollapse = $("#collapseExample");
      const allApiCollapse = $("#all_api_collapse");
  
      function toggleChevron($element) {
        if ($element.hasClass("bx-chevron-down")) {
          $element.removeClass("bx-chevron-down").addClass("bx-chevron-up");
        } else {
          $element.removeClass("bx-chevron-up").addClass("bx-chevron-down");
        }
      }
  
      optionChainButton.click(function () {
        allApiCollapse.collapse("hide");
        optionChainCollapse.collapse("toggle");
        toggleChevron(optionChainButton.find(".bx"));
      });
  
      allApiButton.click(function () {
        optionChainCollapse.collapse("hide");
        allApiCollapse.collapse("toggle");
        toggleChevron(allApiButton.find(".bx"));
      });
  
  
  
      // $("#Activate_broker_btn").click(function () {
      //   $("#active_broker_modal").slideToggle();
      // });
  
      function checkUserLoggedIn() {
        $.ajax({
          type: 'GET',
          url: '/check_user_logged_in', // Update the URL to the appropriate endpoint
          success: function (response) {
            // If the user is logged in, toggle the broker activation modal
  
            if (response.user_logged_in) {
              $("#signinModal").modal("show");
            } else {
  
              $("#overlay").fadeIn();
              $("#active_broker_modal").slideToggle();
            }
          },
          error: function (xhr, status, error) {
            // Handle the error, for example, display an error message
            console.error("Error:", error);
            alert("Error checking user login status.");
          }
        });
      }
  
      $("#Activate_broker_btn").click(function (e) {
        e.stopPropagation(); // Prevent the click event from propagating to the document
        checkUserLoggedIn(); // Call the function to check if the user is logged in
      });
  
      // Close the modal when a click occurs anywhere outside of the modal
      $(document).on("click", function (e) {
        if (!$("#active_broker_modal").is(e.target) && $("#active_broker_modal").has(e.target).length === 0) {
          $("#active_broker_modal").slideUp();
          $("#overlay").fadeOut();
        }
      });
  


      // Set default selected option
      $("#all_brokers").val("zerodha");

      // Show/hide fields based on the selected broker
      $("#all_brokers").change(function () {
        var selectedBroker = $(this).val();
        // console.log(selectedBroker);

        // Hide all broker fields
        $("div[id$='Fields']").hide();

        // Show fields for the selected broker
        $("#" + selectedBroker + "Fields").show();
      });


      $(".save_zerodha_btn").click(function (event) {
        event.preventDefault(); // Prevent the default form submission


        
        
        // Get values based on the selected broker
        var selectedBroker = $("#all_brokers").val();
        var platform = $("#" + selectedBroker + "_platform").val();
        var loginId = $("#" + selectedBroker + "_login_id").val();
        var password = $("#" + selectedBroker + "_password").val();
        var totpKey = $("#" + selectedBroker + "_totp_key").val();
        var appName = $("#" + selectedBroker + "_app_name").val();
        var apiKey = $("#" + selectedBroker + "_api_key").val();
        var apiKey = $("#" + selectedBroker + "_api_key").val();
        //upstocks_secret_key
        var secret_key = $("#" + selectedBroker + "_secret_key").val();
        // Remove undefined values
        
        var phone_number_val = $("#" + selectedBroker + "_phone_number").val();


       

        var advanceTotpSecurity  = $("#"+ selectedBroker +"_advance_security").val()

        // zerodha_advance_security



        // console.log(phone_number_val);
        //upstocks_phone_number
        const definedValues = [platform, loginId, password, totpKey, appName, apiKey, secret_key, phone_number_val].filter(val => val !== undefined);

        // Check if any of the remaining values is an empty string
        if (definedValues.some(val => val.trim() === '')) {
          // Display SweetAlert2 warning message
          Swal.fire({
            icon: 'warning',
            title: 'Warning',
            text: 'Please fill in all fields.',
          });
          return; // Stop execution if any field is an empty string
        }





        // Log the values
        //////console.log("Broker: " + selectedBroker);
        //////console.log("Platform: " + platform);
        //////console.log("Login ID: " + loginId);
        //////console.log("Password: " + password);
        //////console.log("TOTP Key: " + totpKey);
        //////console.log("App Name: " + appName);
        //////console.log("Api Key: " + apiKey);

        var data = {
          'broker_name': selectedBroker,
          'trading_platform': platform, //trading_platform
          'logging_id': loginId,
          'password': password,
          'totp_key': totpKey,
          'api_key': apiKey,
          'app_name': appName,
          'secret_key': secret_key,
          'phone_number_val': phone_number_val,
          'advanceTotpSecurity': advanceTotpSecurity,
          // Add other fields as needed
        };
        // console.log("advanceTotpSecurity",advanceTotpSecurity);
        data = Object.fromEntries(Object.entries(data).filter(([_, v]) => v !== undefined));

        // console.log(data);


        // Display loading indicator
        $('.validating_space').text('Validating your broker API...'); // Assuming '.validating_space' is a placeholder for your loading message

        // Perform AJAX request
        $.ajax({
          url: '/add_broker_api_main',
          method: 'POST',
          contentType: 'application/json',
          data: JSON.stringify(data),
          beforeSend: function () {
            // You can also show a loader or disable certain elements during the request
            // Example: $('.loader').show();
          },
          success: function (response) {
            if (response.status === "error") {
              $("#add_api").offcanvas("hide")
              $("#signinModal").modal("show");
              return
            }
            //////console.log('Success:', response);

            // Reset form fields
            // $("#" + selectedBroker + "_platform").val('');
            $("#" + selectedBroker + "_login_id").val('');
            $("#" + selectedBroker + "_password").val('');
            $("#" + selectedBroker + "_totp_key").val('');
            $("#" + selectedBroker + "_app_name").val('');
            $("#" + selectedBroker + "_api_key").val('');

            // Display SweetAlert2 success message
            Swal.fire({
              icon: 'success',
              title: 'Success',
              text: response.message,
            });
            getAllBrokers()

            // Add more fields if needed

          },
          error: function (error) {
            //////console.log('Error:', error);

            // Display SweetAlert2 error message
            Swal.fire({
              icon: 'error',
              title: 'Error',
              text: error.responseJSON.message,
            });

            // Display validation message
            $('.validating_space').text('Validation of your broker API failed.');

          },
          complete: function () {
            // This function will be called regardless of success or error
            // You can hide loaders or re-enable elements here
            // Example: $('.loader').hide();
            $('.validating_space').text('');
          }
        });



      });
      function getAllBrokers() {
        // Make an AJAX GET request to your Django view
        $.ajax({
          type: 'GET',
          url: '/add_broker_api_main',  // Replace with your actual Django view URL
          dataType: 'json',
          success: function (response) {
            // Log the response to the console
            //////console.log(response.brokers);

            // Clear the existing content in #zerodha_data_display
            $('#zerodha_data_display').empty();

            if (response.brokers.length === 0) {
              $('#zerodha_data_display').append('<p>Please connnect to your broker !!</p>');
            } else {

              var brokers = response.brokers;
              var displayElement = $('#zerodha_data_display');

              for (var i = 0; i < brokers.length; i++) {
                var broker = brokers[i];

                var checkboxState = broker.active_api ? 'checked' : '';
                var switch_text = broker.active_api ? 'Activated' : 'Inactive';
                var delete_btn_action_con = broker.active_api ? 'd-none' : '';
                var broker_activation_status = broker.active_api ? 'broker_active_status' : 'broker_deactive_status';
                var broker_activation_status_text = broker.active_api ? 'broker_activation_status_text_true' : 'broker_activation_status_text_false';

                var brokerHtml = `
              <div class="main_broker_card">

                                <div class="top_head_broker_card">
                                  <div class="left_app_name_broker ${broker_activation_status}">

                                    <div class="app_name_main"><h6 class="${broker_activation_status}">${broker.app_name}</h6></div> <div>-</div> <div class="broker_name_main"><h6 class="${broker_activation_status}">${broker.broker_name}</h6></div>


                                  </div>
                                  <div class="right_broker_id">
                                    <h6 > ${broker.id}</h6>
                                  </div>

                                </div>


                                <div class="main_broker_loggin_id">
                                  <h6 >Loggin Id :  <span class="${broker_activation_status_text}">  ${broker.logging_id}</span></h6>
                                </div>
                                <div class="main_broker_password">
                                <h6 >Password :  <span class="${broker_activation_status_text}">  <i class="bi bi-asterisk"></i> <i class="bi bi-asterisk"></i> <i class="bi bi-asterisk"></i> <i class="bi bi-asterisk"></i> <i class="bi bi-asterisk"></i></span></h6>
                                </div>
                                <div class="broker_active_totp"></div>

                                <div  class="main_broker_action_btn">
                                <div class="checkbox-wrapper-14">
                                  <input id="s1-${broker.id}" type="checkbox" class="switch activate_api" ${checkboxState} data-id="${broker.id}">
                                  <label for="s1-${broker.id}">${switch_text}</label>
                                </div>

                                <div class="delete_btn_broker ${delete_btn_action_con}">

                                  <img class='cursor-pointer edit_broker' width="19px" src="{% static "img/delete_edit_btns/edit.png" %}"  data-edit_id="${broker.id}">
                                  <img src="{% static "img/delete_edit_btns/delete.png" %}" width="19px" class='cursor-pointer delete_broker' data-delete_id="${broker.id}"></i>
                        
                                  
                                  </div>

                                </div>

                                </div>
              `;
                displayElement.append(brokerHtml);
              }             // Loop through the brokers array and display the data

            }
            $(".delete_btn_broker .delete_broker").click(function () {
              var brokerId = $(this).data("delete_id");

              //////console.log(brokerId);

              Swal.fire({
                title: "Are you sure?",
                text: "You won't be able to revert this!",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Yes, delete it!"
              }).then((result) => {
                if (result.isConfirmed) {
                  // Get CSRF token from the cookie
                  var csrftoken = $("[name=csrfmiddlewaretoken]").val();

                  // Send AJAX request to delete broker
                  $.ajax({
                    url: "/delete_broker",  // Replace with your Django URL
                    method: "POST",
                    data: {
                      csrfmiddlewaretoken: csrftoken,
                      brokerId: brokerId
                    },
                    success: function (data) {
                      Swal.fire({
                        title: "Deleted!",
                        text: "Your broker has been deleted.",
                        icon: "success"
                      });
                      getAllBrokers()
                      // Optionally, you can remove the broker from the UI
                      // $(this).closest('.broker-container').remove();
                    },
                    error: function (error) {
                      //////console.log("Error deleting broker:", error);
                      Swal.fire({
                        title: "Error!",
                        text: "There was an error deleting the broker.",
                        icon: "error"
                      });
                    }
                  });
                }
              });
            });

            $(".edit_broker").click(function () {

              // console.log($(this).data("edit_id"));

              get_broker_details($(this).data("edit_id"))

              $("#update_api").offcanvas("show")

              $(".btn-close").click(function () {
                $("#update_api").offcanvas("hide");
              });

            })

            function get_broker_details(broker_id) {
              var csrftoken = $("[name=csrfmiddlewaretoken]").val();
              $.ajax({
                    url: "/get_broker",  // Replace with your Django URL
                    method: "POST",
                    data: {
                      csrfmiddlewaretoken: csrftoken,
                      brokerId: broker_id
                    },
                    success: function (data) {

                      // console.log(data);

                      if (data.broker_data.broker_name ==="zerodha") {
                        $("#all_brokers").val("zerodha");

                        // console.log(data.broker_data);
  
                                      // Trigger the change event to update the displayed fields
                        $("#all_brokers").change();
                        $("#update_zerodhaFields").show()
                        $("#update_angeloneFields").hide()
                        $("#update_upstocksFields").hide()


                        $("#update_zerodha_login_id").val(data.broker_data.logging_id)
                        $("#update_zerodha_password").val(data.broker_data.password)
                        $("#update_zerodha_totp_key").val(data.broker_data.totp_key)
                        $("#update_zerodha_app_name").val(data.broker_data.app_name)
                        $("#update_ID").val(data.broker_data.id)
                   


                        if (data.broker_data.advance_totp_security) {
                          $("#update_zerodha_advance_security").attr("checked",true)
                          $("#update_zerodha_advance_security_label").text("Yes")

                          
                        }else{
                          $("#update_zerodha_advance_security").attr("checked",false)
                          $("#update_zerodha_advance_security_label").text("No")
                        }


                                       




                        
                      }else if (data.broker_data.broker_name ==="angelone") {
                        // Change the selected option in the dropdown
                      $("#all_brokers").val("angelone");

                      // Trigger the change event to update the displayed fields
                      $("#all_brokers").change();
                        $("#update_zerodhaFields").hide()
                        $("#update_upstocksFields").hide()
                        $("#update_angeloneFields").show()
                        $("#update_angelone_login_id").val(data.broker_data.logging_id)
                        $("#update_angelone_password").val(data.broker_data.password)
                        $("#update_angelone_totp_key").val(data.broker_data.totp_key)
                        $("#update_angelone_api_key").val(data.broker_data.api_key)
                        $("#update_angelone_app_name").val(data.broker_data.app_name)
                        $("#update_ID").val(data.broker_data.id)

                        
                        if (data.broker_data.advance_totp_security) {
                          $("#update_angelone_advance_security").attr("checked",true)
                          $("#update_angelone_advance_security_label").text("Yes")

                          
                        }else{
                          $("#update_angelone_advance_security").attr("checked",false)
                          $("#update_angelone_advance_security_label").text("No")
                        }

                      
       
                      }else if (data.broker_data.broker_name ==="upstocks") {
                        // Change the selected option in the dropdown
                      $("#all_brokers").val("upstocks");

                      // Trigger the change event to update the displayed fields
                      $("#all_brokers").change();
                        $("#update_zerodhaFields").hide()
                        $("#update_upstocksFields").show()
                        $("#update_angeloneFields").hide()
                        // update_upstocks_login_id
                        // update_upstocks_password
                        // update_upstocks_totp_key
                        // update_upstocks_phone_number
                        // update_upstocks_api_key
                        // update_upstocks_secret_key
                        // update_upstocks_app_name



                        $("#update_upstocks_login_id").val(data.broker_data.logging_id)
                        $("#update_upstocks_password").val(data.broker_data.password)
                        $("#update_upstocks_totp_key").val(data.broker_data.totp_key)
                        $("#update_upstocks_phone_number").val(data.broker_data.phone_number)
                        $("#update_upstocks_api_key").val(data.broker_data.api_key)
                        $("#update_upstocks_secret_key").val(data.broker_data.api_secret)
                        $("#update_upstocks_app_name").val(data.broker_data.app_name)
                        $("#update_ID").val(data.broker_data.id)

                        if (data.broker_data.advance_totp_security) {
                          $("#update_upstocks_advance_security").attr("checked",true)
                          $("#update_upstocks_advance_security_label").text("Yes")

                          
                        }else{
                          $("#update_upstocks_advance_security").attr("checked",false)
                          $("#update_upstocks_advance_security_label").text("No")
                        }
                      }
       
                      
                      getAllBrokers()
                    },
                    error: function (error) {
                      //////console.log("Error deleting broker:", error);
                      Swal.fire({
                        title: "Error!",
                        text: "There was an error fetching the broker.",
                        icon: "error"
                      });
                    }
                  });
            }









            $('.activate_api').on('change', async function () {
            var brokerId = $(this).data('id');
            var isActive = $(this).prop('checked');

            var main_switch= $(this)



            var api_activation_otp=$(this).closest('.main_broker_card').find('.api_activation_otp').val()

                      // console.log(api_activation_otp);

                      if (api_activation_otp) {

                        if (!api_activation_otp || api_activation_otp.length < 6 || !/^\d+$/.test(api_activation_otp)) {
                                    toastr.error("Invalid OTP format. Please enter a valid OTP.");
                                    $(main_switch).prop('checked', false);
                                    return;
                                }else{

                        $.ajax({
                                  type: 'POST',
                                  url: '/verify_otp_api_activation',
                                  data: {
                                      'broker_id': brokerId,
                                      'api_activation_otp': api_activation_otp
                                  },
                                  success: function (response) {
                                    // console.log(response);

                                    // {otp_verify: 'success'
                                    if (response.otp_verify=="success") {

                                      toastr.success("TOTP verified !!")

                                      updateActiveApi(brokerId, isActive);
                                    }else{
                                      $(main_switch).prop('checked', false);
                                      toastr.error("OTP Invalid !!")

                                      return


                                    }
                                      //console.log('API activation status updated successfully.');

                                  },
                                  error: function (error) {
                                      console.error('Error updating API activation status:', error);
                                  }
                              });
                                          
                      return

                            }
                      }
                            

            if ($(this).prop('checked')) {
                var advance_indicator = await verify_broker_totp(brokerId);
                // console.log('advance_indicator', advance_indicator);

                if (advance_indicator) {
                // Append the input field to the parent with class "broker_active_totp"
              
                var inputField = $('<div class="d-flex gap-3 align-items-baseline enter_totp_verify_input"><label>Enter TOTP : </label><input type="text" placeholder="Enter TOTP" class="form-control api_activation_otp"><i class="bx bx-x delete_topt_input" style="cursor:pointer;"></i></div>');
                $(this).closest('.main_broker_card').find('.broker_active_totp').empty().append(inputField);
                $(this).prop('checked', false);

   // Add click event handler for delete icon
inputField.find('.delete_topt_input').on('click', function(e) {
e.preventDefault()
e.stopPropagation();

  $(this).closest('.enter_totp_verify_input').remove(); // Remove the entire input field container when delete icon is clicked
});


                return

                }

  
            }

  // Use the new function to update the active_api value
  await updateActiveApi(brokerId, isActive);
});




async function updateActiveApi(brokerId, isActive) {
  try {
      await $.ajax({
          type: 'POST',
          url: '/update_active_api',
          data: {
              'broker_id': brokerId,
              'is_active': isActive
          },
          success: function (response) {
              //console.log('API activation status updated successfully.');
              getAllBrokers();
          },
          error: function (error) {
              console.error('Error updating API activation status:', error);
          }
      });
  } catch (error) {
      console.error('Error updating API activation status:', error);
  }
}



          }

          });


          
        }

      function verify_broker_totp(brokerId) {
  return new Promise(function (resolve, reject) {
      $.ajax({
          type: 'POST',
          url: '/verify_active_api',
          data: {
              'broker_id': brokerId,
          },
          success: function (response) {
              // console.log(response);

              // console.log(response.advance_activation);
              if (response.advance_activation === "active") {
         
                  resolve(true);
              } else {
                  resolve(false);
              }
          },
          error: function (error) {
              console.error('Error updating API activation status:', error);
              reject(error);
          }
      });
  });
}


      // Call the function to get and display brokers
      getAllBrokers();

      $(".update_zerodha_btn").click(function (e) {
              e.preventDefault()

              // console.log($("#update_ID").val());
              
        // Get values based on the selected broker
        var selectedBroker = $("#all_brokers").val();

        // console.log(selectedBroker);
        
        var platform = $("#"+"update_" + selectedBroker + "_platform").val();
        var loginId = $("#"+"update_" + selectedBroker + "_login_id").val();
        var password = $("#"+"update_" + selectedBroker + "_password").val();
        var totpKey = $("#"+"update_" + selectedBroker + "_totp_key").val();
        var appName = $("#"+"update_" + selectedBroker + "_app_name").val();
        var apiKey = $("#"+"update_" + selectedBroker + "_api_key").val();
        var apiKey = $("#"+"update_" + selectedBroker + "_api_key").val();
        //upstocks_secret_key
        var secret_key = $("#"+"update_" + selectedBroker + "_secret_key").val();
        // Remove undefined values

        var phone_number_val = $("#"+"update_" + selectedBroker + "_phone_number").val();

        var isChecked = $("#"+"update_"+selectedBroker+"_advance_security").is(":checked");


           var advance_security 
              // Output the result
              if(isChecked) {
                advance_security=true
                  // console.log("The checkbox is checked: " + isChecked);
              } else {
                advance_security=false
                  // console.log("The checkbox is not checked: " + isChecked);
              }
        // console.log(phone_number_val);
        //upstocks_phone_number
        const definedValues = [platform, loginId, password, totpKey, appName, apiKey, secret_key, phone_number_val].filter(val => val !== undefined);

        // Check if any of the remaining values is an empty string
              if (definedValues.some(val => val.trim() === '')) {
                // Display SweetAlert2 warning message
                Swal.fire({
                  icon: 'warning',
                  title: 'Warning',
                  text: 'Please fill in all fields.',
                });
                return; // Stop execution if any field is an empty string
        }





        // Log the values
        //////console.log("Broker: " + selectedBroker);
        //////console.log("Platform: " + platform);
        //////console.log("Login ID: " + loginId);
        //////console.log("Password: " + password);
        //////console.log("TOTP Key: " + totpKey);
        //////console.log("App Name: " + appName);
        //////console.log("Api Key: " + apiKey);

        var data = {
          'brokerID':$("#update_ID").val(),
          'broker_name': selectedBroker,
          'trading_platform': platform, //trading_platform
          'logging_id': loginId,
          'password': password,
          'totp_key': totpKey,
          'api_key': apiKey,
          'app_name': appName,
          'secret_key': secret_key,
          'phone_number_val': phone_number_val,
          'advance_security': advance_security,
          // Add other fields as needed
        };
        data = Object.fromEntries(Object.entries(data).filter(([_, v]) => v !== undefined));

        // console.log(data);

        $(".updating_broker").text("updating the broker details ....").addClass("text-success")
        $.ajax({
          url: '/update_broker_api_main',
          method: 'POST',
          contentType: 'application/json',
          data: JSON.stringify(data),
          beforeSend: function () {
            // You can also show a loader or disable certain elements during the request
            // Example: $('.loader').show();
          },
          success: function (response) {
            if (response.status === "error") {
              Swal.fire({
                icon: 'error',
                title: 'Error',
                text: response.message,
              });
              return
            }
            //////console.log('Success:', response);

            // Reset form fields
            // $("#" + selectedBroker + "_platform").val('');
            $("#" + selectedBroker + "_login_id").val('');
            $("#" + selectedBroker + "_password").val('');
            $("#" + selectedBroker + "_totp_key").val('');
            $("#" + selectedBroker + "_app_name").val('');
            $("#" + selectedBroker + "_api_key").val('');

            // Display SweetAlert2 success message
            Swal.fire({
              icon: 'success',
              title: 'Success',
              text: response.message,
            });
            $(".updating_broker").text("").removeClass("text-success")
            getAllBrokers()
            $("#update_api").offcanvas("hide")

            // Add more fields if needed

          },
          error: function (error) {
            //////console.log('Error:', error);

            // Display SweetAlert2 error message
            Swal.fire({
              icon: 'error',
              title: 'Error',
              text: error.responseJSON.message,
            });

            // Display validation message
            $('.validating_space').text('updating of your broker API failed.');

          },
          complete: function () {
            // This function will be called regardless of success or error
            // You can hide loaders or re-enable elements here
            // Example: $('.loader').hide();
            $('.validating_space').text('');
          }
        });


              
              
            })



    });
  </script>

  <script>
      toastr.options = {
            "closeButton": true,
            "debug": true,
            "newestOnTop": true,
            "progressBar": false,
            "preventDuplicates": false,
            "positionClass": "toast-bottom-right",
    
            "showDuration": "3000",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut",
            "toastClass": "toastr-custom", // Add a custom class
            "iconClasses": {
              "success": " toast-success",
              "error": " toast-error",
              "warning": " toast-warning"
          },
          "escapeHtml": false
          };
  </script>


{% endblock dashboard_body %} 